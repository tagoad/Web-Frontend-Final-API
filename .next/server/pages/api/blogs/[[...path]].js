"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/blogs/[[...path]]";
exports.ids = ["pages/api/blogs/[[...path]]"];
exports.modules = {

/***/ "@azure/cosmos":
/*!********************************!*\
  !*** external "@azure/cosmos" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("@azure/cosmos");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

module.exports = import("uuid");;

/***/ }),

/***/ "(api)/./pages/api/blogs/[[...path]].js":
/*!****************************************!*\
  !*** ./pages/api/blogs/[[...path]].js ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_azure_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../util/azure_tools */ \"(api)/./util/azure_tools.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"uuid\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([uuid__WEBPACK_IMPORTED_MODULE_1__]);\nuuid__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (req, res)=>{\n    const azureTools = new _util_azure_tools__WEBPACK_IMPORTED_MODULE_0__.AzureTools(\"WDD330-Final\");\n    const { authorization  } = req.headers;\n    const path = req.query.path ? req.query.path : [];\n    let items = [];\n    switch(req.method){\n        case \"GET\":\n            switch(path[0]){\n                case \"featured\":\n                    items = await azureTools.getByField(\"blogs\", \"featured\", \"true\");\n                    break;\n                case \"user\":\n                    if (path[1]) {\n                        items = await azureTools.getByField(\"blogs\", \"user\", path[1]);\n                    } else {\n                        return res.status(400).json({\n                            error: \"This path requires an user Id\"\n                        });\n                    }\n                    break;\n                case \"id\":\n                    if (path[1]) {\n                        console.log(path[1]);\n                        items = await azureTools.getById(\"blogs\", path[1]);\n                    } else {\n                        return res.status(400).json({\n                            error: \"This path requires an blog Id\"\n                        });\n                    }\n                    break;\n                case undefined:\n                    items = await azureTools.getAll(\"blogs\");\n                    break;\n            }\n            return res.status(200).json({\n                totalItems: items ? items.length : 0,\n                items: items ? items : []\n            });\n        case \"POST\":\n            if (!req.body) {\n                return res.status(400).json({\n                    error: \"This path requires a body\"\n                });\n            }\n            const parsedBody = JSON.parse(req.body);\n            if (!parsedBody.user) {\n                return res.status(400).json({\n                    error: \"Blog post is missing a user\"\n                });\n            }\n            if (!parsedBody.id) {\n                parsedBody.id = (0,uuid__WEBPACK_IMPORTED_MODULE_1__.v4)();\n            }\n            items = await azureTools.create(\"blogs\", parsedBody);\n            return res.status(201).json({\n                itemCreated: items\n            });\n        case \"DELETE\":\n            switch(path[0]){\n                case \"id\":\n                    if (path[1]) {\n                        console.log(path[1]);\n                        items = await azureTools.getById(\"blogs\", path[1]);\n                        if (items.length > 0) {\n                            items = await azureTools.deleteById(\"blogs\", path[1]);\n                            return res.status(200).json({\n                                itemDeleted: items\n                            });\n                        } else {\n                            return res.status(404).json({\n                                error: \"Blog not found\"\n                            });\n                        }\n                    } else {\n                        return res.status(400).json({\n                            error: \"This path requires an blog Id\"\n                        });\n                    }\n                case \"user\":\n                    if (path[1]) {\n                        items = await azureTools.getByField(\"blogs\", \"user\", path[1]);\n                        if (items.length > 0) {\n                            await azureTools.deleteByUser(\"blogs\", path[1]);\n                            return res.status(200).json({\n                                itemsDeleted: items\n                            });\n                        } else {\n                            return res.status(404).json({\n                                error: \"Blogs not found\"\n                            });\n                        }\n                    } else {\n                        return res.status(400).json({\n                            error: \"This path requires an user Id\"\n                        });\n                    }\n            }\n            break;\n        case \"OPTIONS\":\n            return res.status(200).json({\n                message: \"Options request received\"\n            });\n        default:\n            return res.status(400).json({\n                error: \"This path requires a valid method\"\n            });\n    }\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYmxvZ3MvW1suLi5wYXRoXV0uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVEO0FBQzdCO0FBRTFCLGlFQUFlLE9BQU9FLEdBQUcsRUFBRUMsR0FBRyxHQUFLO0lBQy9CLE1BQU1DLFVBQVUsR0FBRyxJQUFJSix5REFBVSxDQUFDLGNBQWMsQ0FBQztJQUNqRCxNQUFNLEVBQUVLLGFBQWEsR0FBRSxHQUFHSCxHQUFHLENBQUNJLE9BQU87SUFDckMsTUFBTUMsSUFBSSxHQUFHTCxHQUFHLENBQUNNLEtBQUssQ0FBQ0QsSUFBSSxHQUFHTCxHQUFHLENBQUNNLEtBQUssQ0FBQ0QsSUFBSSxHQUFHLEVBQUU7SUFFakQsSUFBSUUsS0FBSyxHQUFHLEVBQUU7SUFDZCxPQUFRUCxHQUFHLENBQUNRLE1BQU07UUFDZCxLQUFLLEtBQUs7WUFDTixPQUFRSCxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNYLEtBQUssVUFBVTtvQkFDWEUsS0FBSyxHQUFHLE1BQU1MLFVBQVUsQ0FBQ08sVUFBVSxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxDQUFDLENBQUM7b0JBQ2pFLE1BQU07Z0JBQ1YsS0FBSyxNQUFNO29CQUNQLElBQUdKLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRTt3QkFDUkUsS0FBSyxHQUFHLE1BQU1MLFVBQVUsQ0FBQ08sVUFBVSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUVKLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztxQkFDaEUsTUFBTTt3QkFDSCxPQUFPSixHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDOzRCQUN4QkMsS0FBSyxFQUFFLCtCQUErQjt5QkFDekMsQ0FBQztxQkFDTDtvQkFDRCxNQUFLO2dCQUNULEtBQUssSUFBSTtvQkFDTCxJQUFHUCxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUU7d0JBQ1JRLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDVCxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ3BCRSxLQUFLLEdBQUcsTUFBTUwsVUFBVSxDQUFDYSxPQUFPLENBQUMsT0FBTyxFQUFFVixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQ3JELE1BQU07d0JBQ0gsT0FBT0osR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQzs0QkFDeEJDLEtBQUssRUFBRSwrQkFBK0I7eUJBQ3pDLENBQUM7cUJBQ0w7b0JBQ0QsTUFBSztnQkFDVCxLQUFLSSxTQUFTO29CQUNWVCxLQUFLLEdBQUcsTUFBTUwsVUFBVSxDQUFDZSxNQUFNLENBQUMsT0FBTyxDQUFDO29CQUN4QyxNQUFLO2FBQ1o7WUFDRCxPQUFPaEIsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztnQkFDeEJPLFVBQVUsRUFBRVgsS0FBSyxHQUFHQSxLQUFLLENBQUNZLE1BQU0sR0FBRyxDQUFDO2dCQUNwQ1osS0FBSyxFQUFFQSxLQUFLLEdBQUdBLEtBQUssR0FBRyxFQUFFO2FBQzVCLENBQUM7UUFDTixLQUFLLE1BQU07WUFDUCxJQUFHLENBQUNQLEdBQUcsQ0FBQ29CLElBQUksRUFBRTtnQkFDVixPQUFPbkIsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztvQkFDeEJDLEtBQUssRUFBRSwyQkFBMkI7aUJBQ3JDLENBQUM7YUFDTDtZQUNELE1BQU1TLFVBQVUsR0FBR0MsSUFBSSxDQUFDQyxLQUFLLENBQUN2QixHQUFHLENBQUNvQixJQUFJLENBQUM7WUFDdkMsSUFBRyxDQUFDQyxVQUFVLENBQUNHLElBQUksRUFBRTtnQkFDakIsT0FBT3ZCLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7b0JBQ3hCQyxLQUFLLEVBQUUsNkJBQTZCO2lCQUN2QyxDQUFDO2FBQ0w7WUFDRCxJQUFHLENBQUNTLFVBQVUsQ0FBQ0ksRUFBRSxFQUFFO2dCQUNmSixVQUFVLENBQUNJLEVBQUUsR0FBRzFCLHdDQUFFLEVBQUU7YUFDdkI7WUFDRFEsS0FBSyxHQUFHLE1BQU1MLFVBQVUsQ0FBQ3dCLE1BQU0sQ0FBQyxPQUFPLEVBQUVMLFVBQVUsQ0FBQztZQUNwRCxPQUFPcEIsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztnQkFDeEJnQixXQUFXLEVBQUVwQixLQUFLO2FBQ3JCLENBQUM7UUFDTixLQUFLLFFBQVE7WUFDVCxPQUFRRixJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNYLEtBQUssSUFBSTtvQkFDTCxJQUFHQSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUU7d0JBQ1JRLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDVCxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ3BCRSxLQUFLLEdBQUcsTUFBTUwsVUFBVSxDQUFDYSxPQUFPLENBQUMsT0FBTyxFQUFFVixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQ2xELElBQUdFLEtBQUssQ0FBQ1ksTUFBTSxHQUFHLENBQUMsRUFBRTs0QkFDakJaLEtBQUssR0FBRyxNQUFNTCxVQUFVLENBQUMwQixVQUFVLENBQUMsT0FBTyxFQUFFdkIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUNwRCxPQUFPSixHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dDQUN6QmtCLFdBQVcsRUFBRXRCLEtBQUs7NkJBQ3JCLENBQUM7eUJBQ0wsTUFBTTs0QkFDSCxPQUFPTixHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dDQUN4QkMsS0FBSyxFQUFFLGdCQUFnQjs2QkFDMUIsQ0FBQzt5QkFDTDtxQkFDSixNQUFNO3dCQUNILE9BQU9YLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7NEJBQ3hCQyxLQUFLLEVBQUUsK0JBQStCO3lCQUN6QyxDQUFDO3FCQUNMO2dCQUNMLEtBQUssTUFBTTtvQkFDUCxJQUFHUCxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUU7d0JBQ1JFLEtBQUssR0FBRyxNQUFNTCxVQUFVLENBQUNPLFVBQVUsQ0FBQyxPQUFPLEVBQUUsTUFBTSxFQUFFSixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7d0JBQzdELElBQUdFLEtBQUssQ0FBQ1ksTUFBTSxHQUFHLENBQUMsRUFBRTs0QkFDakIsTUFBTWpCLFVBQVUsQ0FBQzRCLFlBQVksQ0FBQyxPQUFPLEVBQUV6QixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7NEJBQy9DLE9BQU9KLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7Z0NBQ3hCb0IsWUFBWSxFQUFFeEIsS0FBSzs2QkFDdEIsQ0FBQzt5QkFDTCxNQUFNOzRCQUNILE9BQU9OLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7Z0NBQ3hCQyxLQUFLLEVBQUUsaUJBQWlCOzZCQUMzQixDQUFDO3lCQUNMO3FCQUNKLE1BQU07d0JBQ0gsT0FBT1gsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQzs0QkFDeEJDLEtBQUssRUFBRSwrQkFBK0I7eUJBQ3pDLENBQUM7cUJBQ0w7YUFDUjtZQUNELE1BQUs7UUFDVCxLQUFLLFNBQVM7WUFDVixPQUFPWCxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUN4QnFCLE9BQU8sRUFBRSwwQkFBMEI7YUFDdEMsQ0FBQztRQUNOO1lBQ0ksT0FBTy9CLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7Z0JBQ3hCQyxLQUFLLEVBQUUsbUNBQW1DO2FBQzdDLENBQUM7S0FDVDtDQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBpLy4vcGFnZXMvYXBpL2Jsb2dzL1tbLi4ucGF0aF1dLmpzP2M4ZGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXp1cmVUb29scyB9IGZyb20gXCIuLi8uLi8uLi91dGlsL2F6dXJlX3Rvb2xzXCI7XHJcbmltcG9ydCB7IHY0IH0gZnJvbSBcInV1aWRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgYXp1cmVUb29scyA9IG5ldyBBenVyZVRvb2xzKCdXREQzMzAtRmluYWwnKVxyXG4gICAgY29uc3QgeyBhdXRob3JpemF0aW9uIH0gPSByZXEuaGVhZGVycztcclxuICAgIGNvbnN0IHBhdGggPSByZXEucXVlcnkucGF0aCA/IHJlcS5xdWVyeS5wYXRoIDogW107XHJcblxyXG4gICAgbGV0IGl0ZW1zID0gW11cclxuICAgIHN3aXRjaCAocmVxLm1ldGhvZCkge1xyXG4gICAgICAgIGNhc2UgJ0dFVCc6XHJcbiAgICAgICAgICAgIHN3aXRjaCAocGF0aFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnZmVhdHVyZWQnOlxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zID0gYXdhaXQgYXp1cmVUb29scy5nZXRCeUZpZWxkKCdibG9ncycsICdmZWF0dXJlZCcsIFwidHJ1ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHBhdGhbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSBhd2FpdCBhenVyZVRvb2xzLmdldEJ5RmllbGQoJ2Jsb2dzJywgJ3VzZXInLCBwYXRoWzFdKVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogJ1RoaXMgcGF0aCByZXF1aXJlcyBhbiB1c2VyIElkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaWQnOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHBhdGhbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGF0aFsxXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSBhd2FpdCBhenVyZVRvb2xzLmdldEJ5SWQoJ2Jsb2dzJywgcGF0aFsxXSlcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICdUaGlzIHBhdGggcmVxdWlyZXMgYW4gYmxvZyBJZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOlxyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zID0gYXdhaXQgYXp1cmVUb29scy5nZXRBbGwoJ2Jsb2dzJylcclxuICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICB0b3RhbEl0ZW1zOiBpdGVtcyA/IGl0ZW1zLmxlbmd0aCA6IDAsXHJcbiAgICAgICAgICAgICAgICBpdGVtczogaXRlbXMgPyBpdGVtcyA6IFtdXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgY2FzZSAnUE9TVCc6XHJcbiAgICAgICAgICAgIGlmKCFyZXEuYm9keSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogJ1RoaXMgcGF0aCByZXF1aXJlcyBhIGJvZHknXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEJvZHkgPSBKU09OLnBhcnNlKHJlcS5ib2R5KVxyXG4gICAgICAgICAgICBpZighcGFyc2VkQm9keS51c2VyKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgIGVycm9yOiAnQmxvZyBwb3N0IGlzIG1pc3NpbmcgYSB1c2VyJ1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZighcGFyc2VkQm9keS5pZCkge1xyXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keS5pZCA9IHY0KClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpdGVtcyA9IGF3YWl0IGF6dXJlVG9vbHMuY3JlYXRlKCdibG9ncycsIHBhcnNlZEJvZHkpXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBpdGVtQ3JlYXRlZDogaXRlbXNcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICBjYXNlICdERUxFVEUnOlxyXG4gICAgICAgICAgICBzd2l0Y2ggKHBhdGhbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ2lkJzpcclxuICAgICAgICAgICAgICAgICAgICBpZihwYXRoWzFdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHBhdGhbMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zID0gYXdhaXQgYXp1cmVUb29scy5nZXRCeUlkKCdibG9ncycsIHBhdGhbMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zID0gYXdhaXQgYXp1cmVUb29scy5kZWxldGVCeUlkKCdibG9ncycsIHBhdGhbMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtRGVsZXRlZDogaXRlbXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAnQmxvZyBub3QgZm91bmQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAnVGhpcyBwYXRoIHJlcXVpcmVzIGFuIGJsb2cgSWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2FzZSAndXNlcic6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocGF0aFsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IGF3YWl0IGF6dXJlVG9vbHMuZ2V0QnlGaWVsZCgnYmxvZ3MnLCAndXNlcicsIHBhdGhbMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGl0ZW1zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGF6dXJlVG9vbHMuZGVsZXRlQnlVc2VyKCdibG9ncycsIHBhdGhbMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zRGVsZXRlZDogaXRlbXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAnQmxvZ3Mgbm90IGZvdW5kJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogJ1RoaXMgcGF0aCByZXF1aXJlcyBhbiB1c2VyIElkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgIGNhc2UgJ09QVElPTlMnOlxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ09wdGlvbnMgcmVxdWVzdCByZWNlaXZlZCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgZXJyb3I6ICdUaGlzIHBhdGggcmVxdWlyZXMgYSB2YWxpZCBtZXRob2QnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICB9ICAgICAgIFxyXG59Il0sIm5hbWVzIjpbIkF6dXJlVG9vbHMiLCJ2NCIsInJlcSIsInJlcyIsImF6dXJlVG9vbHMiLCJhdXRob3JpemF0aW9uIiwiaGVhZGVycyIsInBhdGgiLCJxdWVyeSIsIml0ZW1zIiwibWV0aG9kIiwiZ2V0QnlGaWVsZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJnZXRCeUlkIiwidW5kZWZpbmVkIiwiZ2V0QWxsIiwidG90YWxJdGVtcyIsImxlbmd0aCIsImJvZHkiLCJwYXJzZWRCb2R5IiwiSlNPTiIsInBhcnNlIiwidXNlciIsImlkIiwiY3JlYXRlIiwiaXRlbUNyZWF0ZWQiLCJkZWxldGVCeUlkIiwiaXRlbURlbGV0ZWQiLCJkZWxldGVCeVVzZXIiLCJpdGVtc0RlbGV0ZWQiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/blogs/[[...path]].js\n");

/***/ }),

/***/ "(api)/./util/azure_tools.js":
/*!*****************************!*\
  !*** ./util/azure_tools.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AzureTools\": () => (/* binding */ AzureTools)\n/* harmony export */ });\n/* harmony import */ var _azure_cosmos__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/cosmos */ \"@azure/cosmos\");\n/* harmony import */ var _azure_cosmos__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_azure_cosmos__WEBPACK_IMPORTED_MODULE_0__);\n\nclass AzureTools {\n    constructor(database){\n        const endpoint = process.env.COSMOS_ENDPOINT;\n        const key = process.env.COSMOS_KEY;\n        this.client = new _azure_cosmos__WEBPACK_IMPORTED_MODULE_0__.CosmosClient({\n            endpoint,\n            key\n        });\n        this.database = this.client.database(database);\n    }\n    async getAll(container) {\n        const { resources  } = await this.database.container(container).items.readAll().fetchAll();\n        return resources;\n    }\n    async getById(container, id) {\n        const { resources  } = await this.database.container(container).items.query(`SELECT * FROM c WHERE c.id = '${id}'`).fetchAll();\n        return resources;\n    }\n    async getByField(container, field, value) {\n        const { resources  } = await this.database.container(container).items.query(`SELECT * FROM c WHERE c.${field} = '${value}'`).fetchAll();\n        return resources;\n    }\n    async create(container, item) {\n        const { resource  } = await this.database.container(container).items.upsert(item);\n        return resource;\n    }\n    async deleteById(container, id) {\n        const { resource  } = await this.database.container(container).item(id, id).delete();\n        return resource;\n    }\n    async deleteByUser(container, user) {\n        const { resources  } = await this.database.container(container).items.query(`SELECT * FROM c WHERE c.user = '${user}'`).fetchAll();\n        for(let i = 0; i < resources.length; i++){\n            await this.deleteById(container, resources[i].id);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UyxFQUFFQyxTQUFTLENBQUNrQixDQUFDLENBQUMsQ0FBQ2IsRUFBRSxDQUFDLENBQUM7U0FDckQ7S0FDSjtDQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXBpLy4vdXRpbC9henVyZV90b29scy5qcz80YjZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvc21vc0NsaWVudCB9IGZyb20gXCJAYXp1cmUvY29zbW9zXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXp1cmVUb29scyB7XHJcbiAgICBjb25zdHJ1Y3RvcihkYXRhYmFzZSkge1xyXG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gcHJvY2Vzcy5lbnYuQ09TTU9TX0VORFBPSU5UO1xyXG4gICAgICAgIGNvbnN0IGtleSA9IHByb2Nlc3MuZW52LkNPU01PU19LRVk7XHJcbiAgICAgICAgdGhpcy5jbGllbnQgPSBuZXcgQ29zbW9zQ2xpZW50KHtlbmRwb2ludCwga2V5fSk7XHJcbiAgICAgICAgdGhpcy5kYXRhYmFzZSA9IHRoaXMuY2xpZW50LmRhdGFiYXNlKGRhdGFiYXNlKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRBbGwoY29udGFpbmVyKSB7XHJcbiAgICAgICAgY29uc3QgeyByZXNvdXJjZXMgfSA9IGF3YWl0IHRoaXMuZGF0YWJhc2UuY29udGFpbmVyKGNvbnRhaW5lcikuaXRlbXMucmVhZEFsbCgpLmZldGNoQWxsKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc291cmNlcztcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRCeUlkKGNvbnRhaW5lciwgaWQpIHtcclxuICAgICAgICBjb25zdCB7IHJlc291cmNlcyB9ID0gYXdhaXQgdGhpcy5kYXRhYmFzZS5jb250YWluZXIoY29udGFpbmVyKS5pdGVtcy5xdWVyeShgU0VMRUNUICogRlJPTSBjIFdIRVJFIGMuaWQgPSAnJHtpZH0nYCkuZmV0Y2hBbGwoKTtcclxuICAgICAgICByZXR1cm4gcmVzb3VyY2VzO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGdldEJ5RmllbGQoY29udGFpbmVyLCBmaWVsZCwgdmFsdWUpIHtcclxuICAgICAgICBjb25zdCB7IHJlc291cmNlcyB9ID0gYXdhaXQgdGhpcy5kYXRhYmFzZS5jb250YWluZXIoY29udGFpbmVyKS5pdGVtcy5xdWVyeShgU0VMRUNUICogRlJPTSBjIFdIRVJFIGMuJHtmaWVsZH0gPSAnJHt2YWx1ZX0nYCkuZmV0Y2hBbGwoKTtcclxuICAgICAgICByZXR1cm4gcmVzb3VyY2VzO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGNyZWF0ZShjb250YWluZXIsIGl0ZW0pIHtcclxuICAgICAgICBjb25zdCB7IHJlc291cmNlIH0gPSBhd2FpdCB0aGlzLmRhdGFiYXNlLmNvbnRhaW5lcihjb250YWluZXIpLml0ZW1zLnVwc2VydChpdGVtKTtcclxuICAgICAgICByZXR1cm4gcmVzb3VyY2U7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZGVsZXRlQnlJZChjb250YWluZXIsIGlkKSB7XHJcbiAgICAgICAgY29uc3QgeyByZXNvdXJjZSB9ID0gYXdhaXQgdGhpcy5kYXRhYmFzZS5jb250YWluZXIoY29udGFpbmVyKS5pdGVtKGlkLCBpZCkuZGVsZXRlKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc291cmNlO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGRlbGV0ZUJ5VXNlcihjb250YWluZXIsIHVzZXIpIHtcclxuICAgICAgICBjb25zdCB7IHJlc291cmNlcyB9ID0gYXdhaXQgdGhpcy5kYXRhYmFzZS5jb250YWluZXIoY29udGFpbmVyKS5pdGVtcy5xdWVyeShgU0VMRUNUICogRlJPTSBjIFdIRVJFIGMudXNlciA9ICcke3VzZXJ9J2ApLmZldGNoQWxsKCk7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHJlc291cmNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZUJ5SWQoY29udGFpbmVyLCByZXNvdXJjZXNbaV0uaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJuYW1lcyI6WyJDb3Ntb3NDbGllbnQiLCJBenVyZVRvb2xzIiwiY29uc3RydWN0b3IiLCJkYXRhYmFzZSIsImVuZHBvaW50IiwicHJvY2VzcyIsImVudiIsIkNPU01PU19FTkRQT0lOVCIsImtleSIsIkNPU01PU19LRVkiLCJjbGllbnQiLCJnZXRBbGwiLCJjb250YWluZXIiLCJyZXNvdXJjZXMiLCJpdGVtcyIsInJlYWRBbGwiLCJmZXRjaEFsbCIsImdldEJ5SWQiLCJpZCIsInF1ZXJ5IiwiZ2V0QnlGaWVsZCIsImZpZWxkIiwidmFsdWUiLCJjcmVhdGUiLCJpdGVtIiwicmVzb3VyY2UiLCJ1cHNlcnQiLCJkZWxldGVCeUlkIiwiZGVsZXRlIiwiZGVsZXRlQnlVc2VyIiwidXNlciIsImkiLCJsZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./util/azure_tools.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/blogs/[[...path]].js"));
module.exports = __webpack_exports__;

})();