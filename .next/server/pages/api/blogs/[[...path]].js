"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/blogs/[[...path]]";
exports.ids = ["pages/api/blogs/[[...path]]"];
exports.modules = {

/***/ "@azure/cosmos":
/*!********************************!*\
  !*** external "@azure/cosmos" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("@azure/cosmos");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

module.exports = import("uuid");;

/***/ }),

/***/ "(api)/./pages/api/blogs/[[...path]].js":
/*!****************************************!*\
  !*** ./pages/api/blogs/[[...path]].js ***!
  \****************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _util_azure_tools__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../util/azure_tools */ \"(api)/./util/azure_tools.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ \"uuid\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([uuid__WEBPACK_IMPORTED_MODULE_1__]);\nuuid__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (async (req, res)=>{\n    const azureTools = new _util_azure_tools__WEBPACK_IMPORTED_MODULE_0__.AzureTools(\"WDD330-Final\");\n    const { authorization  } = req.headers;\n    const path = req.query.path ? req.query.path : [];\n    let items = [];\n    switch(req.method){\n        case \"GET\":\n            switch(path[0]){\n                case \"featured\":\n                    items = await azureTools.getByField(\"blogs\", \"featured\", \"true\");\n                    break;\n                case \"user\":\n                    if (path[1]) {\n                        items = await azureTools.getByField(\"blogs\", \"user\", path[1]);\n                    } else {\n                        res.status(400).json({\n                            error: \"This path requires an user Id\"\n                        });\n                        return;\n                    }\n                    break;\n                case \"id\":\n                    if (path[1]) {\n                        console.log(path[1]);\n                        items = await azureTools.getById(\"blogs\", path[1]);\n                    } else {\n                        res.status(400).json({\n                            error: \"This path requires an blog Id\"\n                        });\n                        return;\n                    }\n                    break;\n                case undefined:\n                    items = await azureTools.getAll(\"blogs\");\n                    break;\n            }\n            res.status(200).json({\n                totalItems: items ? items.length : 0,\n                items: items ? items : []\n            });\n            break;\n        case \"POST\":\n            if (!req.body) {\n                res.status(400).json({\n                    error: \"This path requires a body\"\n                });\n                return;\n            }\n            const parsedBody = JSON.parse(req.body);\n            if (!parsedBody.user) {\n                res.status(400).json({\n                    error: \"Blog post is missing a user\"\n                });\n                return;\n            }\n            if (!parsedBody.id) {\n                parsedBody.id = (0,uuid__WEBPACK_IMPORTED_MODULE_1__.v4)();\n            }\n            items = await azureTools.create(\"blogs\", parsedBody);\n            res.status(201).json({\n                itemCreated: items\n            });\n            break;\n        case \"DELETE\":\n            switch(path[0]){\n                case \"id\":\n                    if (path[1]) {\n                        items = await azureTools.getById(\"blogs\", path[1]);\n                        if (items.length > 0) {\n                            items = await azureTools.deleteById(\"blogs\", path[1]);\n                            res.status(200).json({\n                                itemDeleted: items\n                            });\n                        } else {\n                            res.status(404).json({\n                                error: \"Blog not found\"\n                            });\n                        }\n                    } else {\n                        res.status(400).json({\n                            error: \"This path requires an blog Id\"\n                        });\n                        return;\n                    }\n                    break;\n                case \"user\":\n                    if (path[1]) {\n                        items = await azureTools.getByField(\"blogs\", \"user\", path[1]);\n                        if (items.length > 0) {\n                            await azureTools.deleteByUser(\"blogs\", path[1]);\n                            res.status(200).json({\n                                itemsDeleted: items\n                            });\n                        } else {\n                            res.status(404).json({\n                                error: \"Blogs not found\"\n                            });\n                        }\n                    } else {\n                        res.status(400).json({\n                            error: \"This path requires an user Id\"\n                        });\n                        return;\n                    }\n                    break;\n            }\n            break;\n        case \"OPTIONS\":\n            res.status(200).json({\n                message: \"Options request received\"\n            });\n        default:\n            res.status(400).json({\n                error: \"This path requires a valid method\"\n            });\n            return;\n    }\n});\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvYmxvZ3MvW1suLi5wYXRoXV0uanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVEO0FBQzdCO0FBRTFCLGlFQUFlLE9BQU9FLEdBQUcsRUFBRUMsR0FBRyxHQUFLO0lBQy9CLE1BQU1DLFVBQVUsR0FBRyxJQUFJSix5REFBVSxDQUFDLGNBQWMsQ0FBQztJQUNqRCxNQUFNLEVBQUVLLGFBQWEsR0FBRSxHQUFHSCxHQUFHLENBQUNJLE9BQU87SUFDckMsTUFBTUMsSUFBSSxHQUFHTCxHQUFHLENBQUNNLEtBQUssQ0FBQ0QsSUFBSSxHQUFHTCxHQUFHLENBQUNNLEtBQUssQ0FBQ0QsSUFBSSxHQUFHLEVBQUU7SUFFakQsSUFBSUUsS0FBSyxHQUFHLEVBQUU7SUFDZCxPQUFRUCxHQUFHLENBQUNRLE1BQU07UUFDZCxLQUFLLEtBQUs7WUFDTixPQUFRSCxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNYLEtBQUssVUFBVTtvQkFDWEUsS0FBSyxHQUFHLE1BQU1MLFVBQVUsQ0FBQ08sVUFBVSxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxDQUFDLENBQUM7b0JBQ2pFLE1BQU07Z0JBQ1YsS0FBSyxNQUFNO29CQUNQLElBQUdKLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRTt3QkFDUkUsS0FBSyxHQUFHLE1BQU1MLFVBQVUsQ0FBQ08sVUFBVSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUVKLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztxQkFDaEUsTUFBTTt3QkFDSEosR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQzs0QkFDakJDLEtBQUssRUFBRSwrQkFBK0I7eUJBQ3pDLENBQUM7d0JBQ0YsT0FBTTtxQkFDVDtvQkFDRCxNQUFLO2dCQUNULEtBQUssSUFBSTtvQkFDTCxJQUFHUCxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUU7d0JBQ1JRLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDVCxJQUFJLENBQUMs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QyxFQUFFO3dCQUNSRSxLQUFLLEdBQUcsTUFBTUwsVUFBVSxDQUFDTyxVQUFVLENBQUMsT0FBTyxFQUFFLE1BQU0sRUFBRUosSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO3dCQUM3RCxJQUFHRSxLQUFLLENBQUNZLE1BQU0sR0FBRyxDQUFDLEVBQUU7NEJBQ2pCLE1BQU1qQixVQUFVLENBQUM0QixZQUFZLENBQUMsT0FBTyxFQUFFekIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUMvQ0osR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztnQ0FDakJvQixZQUFZLEVBQUV4QixLQUFLOzZCQUN0QixDQUFDO3lCQUNMLE1BQU07NEJBQ0hOLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7Z0NBQ2pCQyxLQUFLLEVBQUUsaUJBQWlCOzZCQUMzQixDQUFDO3lCQUNMO3FCQUNKLE1BQU07d0JBQ0hYLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7NEJBQ2pCQyxLQUFLLEVBQUUsK0JBQStCO3lCQUN6QyxDQUFDO3dCQUNGLE9BQU07cUJBQ1Q7b0JBQ0QsTUFBSzthQUNaO1lBQ0QsTUFBSztRQUNULEtBQUssU0FBUztZQUNWWCxHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUNqQnFCLE9BQU8sRUFBRSwwQkFBMEI7YUFDdEMsQ0FBQztRQUNOO1lBQ0kvQixHQUFHLENBQUNTLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUNqQkMsS0FBSyxFQUFFLG1DQUFtQzthQUM3QyxDQUFDO1lBQ0YsT0FBTTtLQUNiO0NBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hcGkvLi9wYWdlcy9hcGkvYmxvZ3MvW1suLi5wYXRoXV0uanM/YzhkYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBenVyZVRvb2xzIH0gZnJvbSBcIi4uLy4uLy4uL3V0aWwvYXp1cmVfdG9vbHNcIjtcclxuaW1wb3J0IHsgdjQgfSBmcm9tIFwidXVpZFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBhenVyZVRvb2xzID0gbmV3IEF6dXJlVG9vbHMoJ1dERDMzMC1GaW5hbCcpXHJcbiAgICBjb25zdCB7IGF1dGhvcml6YXRpb24gfSA9IHJlcS5oZWFkZXJzO1xyXG4gICAgY29uc3QgcGF0aCA9IHJlcS5xdWVyeS5wYXRoID8gcmVxLnF1ZXJ5LnBhdGggOiBbXTtcclxuXHJcbiAgICBsZXQgaXRlbXMgPSBbXVxyXG4gICAgc3dpdGNoIChyZXEubWV0aG9kKSB7XHJcbiAgICAgICAgY2FzZSAnR0VUJzpcclxuICAgICAgICAgICAgc3dpdGNoIChwYXRoWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdmZWF0dXJlZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSBhd2FpdCBhenVyZVRvb2xzLmdldEJ5RmllbGQoJ2Jsb2dzJywgJ2ZlYXR1cmVkJywgXCJ0cnVlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAndXNlcic6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocGF0aFsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IGF3YWl0IGF6dXJlVG9vbHMuZ2V0QnlGaWVsZCgnYmxvZ3MnLCAndXNlcicsIHBhdGhbMV0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICdUaGlzIHBhdGggcmVxdWlyZXMgYW4gdXNlciBJZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgICAgICBjYXNlICdpZCc6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYocGF0aFsxXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhwYXRoWzFdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IGF3YWl0IGF6dXJlVG9vbHMuZ2V0QnlJZCgnYmxvZ3MnLCBwYXRoWzFdKVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiAnVGhpcyBwYXRoIHJlcXVpcmVzIGFuIGJsb2cgSWQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgICAgICAgY2FzZSB1bmRlZmluZWQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSBhd2FpdCBhenVyZVRvb2xzLmdldEFsbCgnYmxvZ3MnKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgdG90YWxJdGVtczogaXRlbXMgPyBpdGVtcy5sZW5ndGggOiAwLFxyXG4gICAgICAgICAgICAgICAgaXRlbXM6IGl0ZW1zID8gaXRlbXMgOiBbXVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgIGNhc2UgJ1BPU1QnOlxyXG4gICAgICAgICAgICBpZighcmVxLmJvZHkpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogJ1RoaXMgcGF0aCByZXF1aXJlcyBhIGJvZHknXHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcGFyc2VkQm9keSA9IEpTT04ucGFyc2UocmVxLmJvZHkpXHJcbiAgICAgICAgICAgIGlmKCFwYXJzZWRCb2R5LnVzZXIpIHtcclxuICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogJ0Jsb2cgcG9zdCBpcyBtaXNzaW5nIGEgdXNlcidcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZighcGFyc2VkQm9keS5pZCkge1xyXG4gICAgICAgICAgICAgICAgcGFyc2VkQm9keS5pZCA9IHY0KClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpdGVtcyA9IGF3YWl0IGF6dXJlVG9vbHMuY3JlYXRlKCdibG9ncycsIHBhcnNlZEJvZHkpXHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcclxuICAgICAgICAgICAgICAgIGl0ZW1DcmVhdGVkOiBpdGVtc1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgIGNhc2UgJ0RFTEVURSc6XHJcbiAgICAgICAgICAgIHN3aXRjaCAocGF0aFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnaWQnOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHBhdGhbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSBhd2FpdCBhenVyZVRvb2xzLmdldEJ5SWQoJ2Jsb2dzJywgcGF0aFsxXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoaXRlbXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSBhd2FpdCBhenVyZVRvb2xzLmRlbGV0ZUJ5SWQoJ2Jsb2dzJywgcGF0aFsxXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtRGVsZXRlZDogaXRlbXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICdCbG9nIG5vdCBmb3VuZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogJ1RoaXMgcGF0aCByZXF1aXJlcyBhbiBibG9nIElkJ1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHBhdGhbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSBhd2FpdCBhenVyZVRvb2xzLmdldEJ5RmllbGQoJ2Jsb2dzJywgJ3VzZXInLCBwYXRoWzFdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihpdGVtcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBhenVyZVRvb2xzLmRlbGV0ZUJ5VXNlcignYmxvZ3MnLCBwYXRoWzFdKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zRGVsZXRlZDogaXRlbXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMuc3RhdHVzKDQwNCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICdCbG9ncyBub3QgZm91bmQnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1cyg0MDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6ICdUaGlzIHBhdGggcmVxdWlyZXMgYW4gdXNlciBJZCdcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICBjYXNlICdPUFRJT05TJzpcclxuICAgICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogJ09wdGlvbnMgcmVxdWVzdCByZWNlaXZlZCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDQwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBlcnJvcjogJ1RoaXMgcGF0aCByZXF1aXJlcyBhIHZhbGlkIG1ldGhvZCdcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgcmV0dXJuXHJcbiAgICB9ICAgICAgIFxyXG59Il0sIm5hbWVzIjpbIkF6dXJlVG9vbHMiLCJ2NCIsInJlcSIsInJlcyIsImF6dXJlVG9vbHMiLCJhdXRob3JpemF0aW9uIiwiaGVhZGVycyIsInBhdGgiLCJxdWVyeSIsIml0ZW1zIiwibWV0aG9kIiwiZ2V0QnlGaWVsZCIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJnZXRCeUlkIiwidW5kZWZpbmVkIiwiZ2V0QWxsIiwidG90YWxJdGVtcyIsImxlbmd0aCIsImJvZHkiLCJwYXJzZWRCb2R5IiwiSlNPTiIsInBhcnNlIiwidXNlciIsImlkIiwiY3JlYXRlIiwiaXRlbUNyZWF0ZWQiLCJkZWxldGVCeUlkIiwiaXRlbURlbGV0ZWQiLCJkZWxldGVCeVVzZXIiLCJpdGVtc0RlbGV0ZWQiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/blogs/[[...path]].js\n");

/***/ }),

/***/ "(api)/./util/azure_tools.js":
/*!*****************************!*\
  !*** ./util/azure_tools.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"AzureTools\": () => (/* binding */ AzureTools)\n/* harmony export */ });\n/* harmony import */ var _azure_cosmos__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/cosmos */ \"@azure/cosmos\");\n/* harmony import */ var _azure_cosmos__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_azure_cosmos__WEBPACK_IMPORTED_MODULE_0__);\n\nclass AzureTools {\n    constructor(database){\n        const endpoint = process.env.COSMOS_ENDPOINT;\n        const key = process.env.COSMOS_KEY;\n        this.client = new _azure_cosmos__WEBPACK_IMPORTED_MODULE_0__.CosmosClient({\n            endpoint,\n            key\n        });\n        this.database = this.client.database(database);\n    }\n    async getAll(container) {\n        const { resources  } = await this.database.container(container).items.readAll().fetchAll();\n        return resources;\n    }\n    async getById(container, id) {\n        const { resources  } = await this.database.container(container).items.query(`SELECT * FROM c WHERE c.id = '${id}'`).fetchAll();\n        return resources;\n    }\n    async getByField(container, field, value) {\n        const { resources  } = await this.database.container(container).items.query(`SELECT * FROM c WHERE c.${field} = '${value}'`).fetchAll();\n        return resources;\n    }\n    async create(container, item) {\n        const { resource  } = await this.database.container(container).items.upsert(item);\n        return resource;\n    }\n    async deleteById(container, id) {\n        const { resource  } = await this.database.container(container).item(id).delete();\n        return resource;\n    }\n    async deleteByUser(container, user) {\n        const { resources  } = await this.database.container(container).items.query(`SELECT * FROM c WHERE c.user = '${user}'`).fetchAll();\n        for(let i = 0; i < resources.length; i++){\n            await this.deleteById(container, resources[i].id);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UyxDQUFDa0IsQ0FBQyxDQUFDLENBQUNiLEVBQUUsQ0FBQyxDQUFDO1NBQ3JEO0tBQ0o7Q0FDSiIsInNvdXJjZXMiOlsid2VicGFjazovL2FwaS8uL3V0aWwvYXp1cmVfdG9vbHMuanM/NGI2YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb3Ntb3NDbGllbnQgfSBmcm9tIFwiQGF6dXJlL2Nvc21vc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF6dXJlVG9vbHMge1xyXG4gICAgY29uc3RydWN0b3IoZGF0YWJhc2UpIHtcclxuICAgICAgICBjb25zdCBlbmRwb2ludCA9IHByb2Nlc3MuZW52LkNPU01PU19FTkRQT0lOVDtcclxuICAgICAgICBjb25zdCBrZXkgPSBwcm9jZXNzLmVudi5DT1NNT1NfS0VZO1xyXG4gICAgICAgIHRoaXMuY2xpZW50ID0gbmV3IENvc21vc0NsaWVudCh7ZW5kcG9pbnQsIGtleX0pO1xyXG4gICAgICAgIHRoaXMuZGF0YWJhc2UgPSB0aGlzLmNsaWVudC5kYXRhYmFzZShkYXRhYmFzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0QWxsKGNvbnRhaW5lcikge1xyXG4gICAgICAgIGNvbnN0IHsgcmVzb3VyY2VzIH0gPSBhd2FpdCB0aGlzLmRhdGFiYXNlLmNvbnRhaW5lcihjb250YWluZXIpLml0ZW1zLnJlYWRBbGwoKS5mZXRjaEFsbCgpO1xyXG4gICAgICAgIHJldHVybiByZXNvdXJjZXM7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgZ2V0QnlJZChjb250YWluZXIsIGlkKSB7XHJcbiAgICAgICAgY29uc3QgeyByZXNvdXJjZXMgfSA9IGF3YWl0IHRoaXMuZGF0YWJhc2UuY29udGFpbmVyKGNvbnRhaW5lcikuaXRlbXMucXVlcnkoYFNFTEVDVCAqIEZST00gYyBXSEVSRSBjLmlkID0gJyR7aWR9J2ApLmZldGNoQWxsKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc291cmNlcztcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBnZXRCeUZpZWxkKGNvbnRhaW5lciwgZmllbGQsIHZhbHVlKSB7XHJcbiAgICAgICAgY29uc3QgeyByZXNvdXJjZXMgfSA9IGF3YWl0IHRoaXMuZGF0YWJhc2UuY29udGFpbmVyKGNvbnRhaW5lcikuaXRlbXMucXVlcnkoYFNFTEVDVCAqIEZST00gYyBXSEVSRSBjLiR7ZmllbGR9ID0gJyR7dmFsdWV9J2ApLmZldGNoQWxsKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc291cmNlcztcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBjcmVhdGUoY29udGFpbmVyLCBpdGVtKSB7XHJcbiAgICAgICAgY29uc3QgeyByZXNvdXJjZSB9ID0gYXdhaXQgdGhpcy5kYXRhYmFzZS5jb250YWluZXIoY29udGFpbmVyKS5pdGVtcy51cHNlcnQoaXRlbSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc291cmNlO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGRlbGV0ZUJ5SWQoY29udGFpbmVyLCBpZCkge1xyXG4gICAgICAgIGNvbnN0IHsgcmVzb3VyY2UgfSA9IGF3YWl0IHRoaXMuZGF0YWJhc2UuY29udGFpbmVyKGNvbnRhaW5lcikuaXRlbShpZCkuZGVsZXRlKCk7XHJcbiAgICAgICAgcmV0dXJuIHJlc291cmNlO1xyXG4gICAgfVxyXG5cclxuICAgIGFzeW5jIGRlbGV0ZUJ5VXNlcihjb250YWluZXIsIHVzZXIpIHtcclxuICAgICAgICBjb25zdCB7IHJlc291cmNlcyB9ID0gYXdhaXQgdGhpcy5kYXRhYmFzZS5jb250YWluZXIoY29udGFpbmVyKS5pdGVtcy5xdWVyeShgU0VMRUNUICogRlJPTSBjIFdIRVJFIGMudXNlciA9ICcke3VzZXJ9J2ApLmZldGNoQWxsKCk7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHJlc291cmNlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmRlbGV0ZUJ5SWQoY29udGFpbmVyLCByZXNvdXJjZXNbaV0uaWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSJdLCJuYW1lcyI6WyJDb3Ntb3NDbGllbnQiLCJBenVyZVRvb2xzIiwiY29uc3RydWN0b3IiLCJkYXRhYmFzZSIsImVuZHBvaW50IiwicHJvY2VzcyIsImVudiIsIkNPU01PU19FTkRQT0lOVCIsImtleSIsIkNPU01PU19LRVkiLCJjbGllbnQiLCJnZXRBbGwiLCJjb250YWluZXIiLCJyZXNvdXJjZXMiLCJpdGVtcyIsInJlYWRBbGwiLCJmZXRjaEFsbCIsImdldEJ5SWQiLCJpZCIsInF1ZXJ5IiwiZ2V0QnlGaWVsZCIsImZpZWxkIiwidmFsdWUiLCJjcmVhdGUiLCJpdGVtIiwicmVzb3VyY2UiLCJ1cHNlcnQiLCJkZWxldGVCeUlkIiwiZGVsZXRlIiwiZGVsZXRlQnlVc2VyIiwidXNlciIsImkiLCJsZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./util/azure_tools.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/blogs/[[...path]].js"));
module.exports = __webpack_exports__;

})();